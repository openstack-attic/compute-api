<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE book [
        <!-- Some useful entities borrowed from HTML -->
        <!ENTITY ndash  "&#x2013;">
        <!ENTITY mdash  "&#x2014;">
        <!ENTITY hellip "&#x2026;">
        <!ENTITY plusmn "&#xB1;">

        <!-- Useful for describing APIs -->
        <!ENTITY GET    '<command xmlns="http://docbook.org/ns/docbook">GET</command>'>
        <!ENTITY PUT    '<command xmlns="http://docbook.org/ns/docbook">PUT</command>'>
        <!ENTITY POST   '<command xmlns="http://docbook.org/ns/docbook">POST</command>'>
        <!ENTITY DELETE '<command xmlns="http://docbook.org/ns/docbook">DELETE</command>'>

        <!ENTITY CHECK  '<inlinemediaobject xmlns="http://docbook.org/ns/docbook">
                 <imageobject role="fo">
                  <imagedata fileref="figures/Check_mark_23x20_02.svg"
                             format="SVG" scale="60"/>
                </imageobject>
                 <imageobject role="html">
                  <imagedata fileref="../figures/Check_mark_23x20_02.png"
                             format="PNG" />
                </imageobject>
              </inlinemediaobject>'>

        <!ENTITY ARROW  '<inlinemediaobject xmlns="http://docbook.org/ns/docbook">
                 <imageobject role="fo">
                  <imagedata fileref="figures/Arrow_east.svg"
                             format="SVG" scale="60"/>
                </imageobject>
                 <imageobject role="html">
                  <imagedata fileref="../figures/Arrow_east.png"
                             format="PNG" />
                </imageobject>
              </inlinemediaobject>'>
]>
<book xmlns="http://docbook.org/ns/docbook"
    xmlns:xlink="http://www.w3.org/1999/xlink"
    xmlns:xi="http://www.w3.org/2001/XInclude"
    xmlns:svg="http://www.w3.org/2000/svg"
    xmlns:m="http://www.w3.org/1998/Math/MathML"
    xmlns:html="http://www.w3.org/1999/xhtml"
    xmlns:db="http://docbook.org/ns/docbook" version="5.0"
    xml:id="os-cs-devguide">
    <title>OpenStack Compute Developer Guide</title>
    <?rax pdf.url="../os-compute-devguide-2.pdf"?>
    <titleabbrev>OpenStack Compute Dev Guide</titleabbrev>
    <info>
        <author>
            <personname>
                <firstname/>
                <surname/>
            </personname>
            <affiliation>
                <orgname>OpenStack LLC</orgname>
            </affiliation>
        </author>
        <copyright>
            <year>2009</year>
            <year>2010</year>
            <year>2011</year>
            <year>2012</year>
            <holder>OpenStack LLC</holder>
        </copyright>
        <releaseinfo>API v2</releaseinfo>
        <productname>OpenStack Compute</productname>
        <pubdate>2012-05-30</pubdate>
        <legalnotice role="apache2">
            <annotation>
                <remark>Copyright details are filled in by the
                    template.</remark>
            </annotation>
        </legalnotice>
        <abstract>
            <para>This document is intended for software developers
                interested in developing applications using the
                OpenStack Compute Application Programming Interface
                    (<abbrev>API</abbrev>). </para>
        </abstract>
        <revhistory>
            <revision>
                <!-- ... continue addding more revisions here as you change this document using the markup shown below... -->
                <date>2012-05-30</date>
                <revdescription>
                    <itemizedlist>
                        <listitem>
                            <para>Added more descriptive information
                                about the request body attributes to
                                the create server API
                                operation.</para>
                        </listitem>
                    </itemizedlist>
                </revdescription>
            </revision>
            <revision>
                <!-- ... continue addding more revisions here as you change this document using the markup shown below... -->
                <date>2012-05-02</date>
                <revdescription>
                    <itemizedlist>
                        <listitem>
                            <para>Added <code>SHUTOFF</code> to the
                                list of server status values for the
                                list servers API operation.</para>
                        </listitem>
                        <listitem>
                            <para>Updated the description for the
                                   <code>SUSPENDED</code> server
                                status value for the list servers API
                                operation.</para>
                        </listitem>
                    </itemizedlist>
                </revdescription>
            </revision>
            <revision>
                <date>2012-04-24</date>
                <revdescription>
                    <itemizedlist>
                        <listitem>
                            <para>Updated to use color-coded syntax
                                formatting in request and response
                                examples.</para>
                        </listitem>
                    </itemizedlist>
                </revdescription>
            </revision>
            <revision>
                <date>2012-03-25</date>
                <revdescription>
                    <itemizedlist>
                        <listitem>
                            <para>Added descriptions of URI parameters
                                and request body attributes for API
                                operations.</para>
                        </listitem>
                    </itemizedlist>
                </revdescription>
            </revision>
            <revision>
                <date>2012-02-14</date>
                <revdescription>
                    <itemizedlist spacing="compact">
                        <listitem>
                            <para>Updated the API version from v1.1 to
                                v2.</para>
                        </listitem>
                        <listitem>
                            <para>No longer use mimetype parameters to
                                denote version.</para>
                        </listitem>
                    </itemizedlist>
                </revdescription>
            </revision>
            <revision>
                <date>2011-11-08</date>
                <revdescription>
                    <itemizedlist spacing="compact">
                        <listitem>
                            <para>Removed DRAFT designation.</para>
                        </listitem>
                    </itemizedlist>
                </revdescription>
            </revision>

            <revision>
                <date>2011-09-08</date>
                <revdescription>
                    <itemizedlist spacing="compact">
                        <listitem>
                            <para> Added <parameter>limit</parameter>
                                and <parameter>marker</parameter>
                                parameters to list operations. </para>
                        </listitem>
                        <listitem>
                            <para> The rebuild action behaves just
                                like create: an imageRef is used and a
                                password may be specified. </para>
                        </listitem>
                        <listitem>
                            <para> Added tenant and user_id attributes
                                to server and image. </para>
                        </listitem>
                        <listitem>
                            <para> Added vcpus attribute to flavors.
                            </para>
                        </listitem>
                        <listitem>
                            <para> We now use a flavorRef in the
                                resize action. </para>
                        </listitem>
                    </itemizedlist>
                </revdescription>
            </revision>
            <revision>
                <date>2011-07-23</date>
                <revdescription>
                    <itemizedlist spacing="compact">
                        <listitem>
                            <para> Added missing response examples for
                                server update. </para>
                        </listitem>
                        <listitem>
                            <para> Ensure consistent HTTP status codes
                                for all resources. </para>
                        </listitem>
                        <listitem>
                            <para> Clarifications on setting and
                                changing a server password. </para>
                        </listitem>
                        <listitem>
                            <para> Minor updates to metadata section
                                for clarity. </para>
                        </listitem>
                        <listitem>
                            <para> Discuss alternate links. </para>
                        </listitem>
                        <listitem>
                            <para> Removed version number from compute
                                media types &mdash; use a media type
                                parameter instead. </para>
                        </listitem>
                        <listitem>
                            <para> Bought back the flavorRef and
                                imageRef server attributes these are
                                now only used when creating a server.
                            </para>
                        </listitem>
                        <listitem>
                            <para> Made the create image operation a
                                server action. </para>
                        </listitem>
                        <listitem>
                            <para> Added minDisk and minRam filters to
                                flavor lists. </para>
                        </listitem>
                        <listitem>
                            <para> Added minDisk and minRam attributes
                                to images. </para>
                        </listitem>
                        <listitem>
                            <para> Asynchronous faults may now contain
                                a timestamp. </para>
                        </listitem>
                        <listitem>
                            <para> Changes-since request returns an
                                empty list rather than a 304. </para>
                        </listitem>
                        <listitem>
                            <para> Added DELETED image status. </para>
                        </listitem>
                        <listitem>
                            <para> Fix content length in <xref
                                   linkend="ImageCreateFullResponse"
                                />. </para>
                        </listitem>
                        <listitem>
                            <para> Fixed bad request error code in
                                   <xref
                                   linkend="Server_Passwords-d1e2510"
                                />. </para>
                        </listitem>
                        <listitem>
                            <para> Compact image, server, and flavor
                                lists should contain IDs, names, and
                                links (Any kind of link may be
                                included &mdash; not just self links).
                            </para>
                        </listitem>
                        <listitem>
                            <para> Changed metadata URI from .../meta
                                to .../metadata for consistency.
                            </para>
                        </listitem>
                    </itemizedlist>
                </revdescription>
            </revision>
            <revision>
                <date>2011-06-29</date>
                <revdescription>
                    <itemizedlist spacing="compact">
                        <listitem>
                            <para> Renamed Primary IP to Access IP.
                            </para>
                        </listitem>
                    </itemizedlist>
                </revdescription>
            </revision>
            <revision>
                <date>2011-06-23</date>
                <revdescription>
                    <itemizedlist spacing="compact">
                        <listitem>
                            <para> Many minor updates based on
                                community feedback. </para>
                        </listitem>
                        <listitem>
                            <para> Removed sections on Content
                                Compression, Persistent Connections,
                                and Caching &mdash; these are operator
                                specific. Added section on HTTP.
                            </para>
                        </listitem>
                        <listitem>
                            <para> A Location header is returned when
                                creating servers/images. </para>
                        </listitem>
                        <listitem>
                            <para> Added filters to collection of
                                Image, Servers, and Flavors. </para>
                        </listitem>
                        <listitem>
                            <para> Added asynchronous faults. </para>
                        </listitem>
                        <listitem>
                            <para> Updates to links and references.
                                Remove serverRef, imageRef, and
                                flavorRef and instead embed one entity
                                in another to provide links. </para>
                        </listitem>
                        <listitem>
                            <para> Added primary IP addresses. </para>
                        </listitem>
                        <listitem>
                            <para> Added forbidden fault. </para>
                        </listitem>
                        <listitem>
                            <para> We now use a single bookmark link
                                per entity regardless of mimetype.
                            </para>
                        </listitem>
                        <listitem>
                            <para> Collections are now sorted by
                                create time. </para>
                        </listitem>
                        <listitem>
                            <para> Previous links are no longer
                                required. </para>
                        </listitem>
                        <listitem>
                            <para> Added the ability to create or
                                update multiple metadata items
                                simultaneously. </para>
                        </listitem>
                        <listitem>
                            <para> Minor cleanups to server and image
                                state machine. </para>
                        </listitem>
                        <listitem>
                            <para> Update to JSON collection format.
                            </para>
                        </listitem>
                        <listitem>
                            <para> Replace integer IDs with UUIDs.
                            </para>
                        </listitem>
                        <listitem>
                            <para> Removed affinityID, this will
                                likely come in as an extension.
                            </para>
                        </listitem>
                    </itemizedlist>
                </revdescription>
            </revision>
            <revision>
                <date>2011-04-25</date>
                <revdescription>
                    <itemizedlist spacing="compact">
                        <listitem>
                            <para> Some minor cleanups in preparation
                                for OpenStack Summit discussion.
                            </para>
                        </listitem>
                    </itemizedlist>
                </revdescription>
            </revision>
            <revision>
                <date>2011-03-11</date>
                <revdescription>
                    <itemizedlist spacing="compact">
                        <listitem>
                            <para> Many minor updates based on
                                community feedback. </para>
                        </listitem>
                        <listitem>
                            <para> Updates to resource linking and
                                references. </para>
                        </listitem>
                        <listitem>
                            <para> Better description of paginated
                                collections. </para>
                        </listitem>
                        <listitem>
                            <para> Metadata supported in servers and
                                images. </para>
                        </listitem>
                        <listitem>
                            <para> Dropped support for shared IP
                                groups. </para>
                        </listitem>
                        <listitem>
                            <para> IPs organized by network id, vs
                                simply having public and private IPs.
                            </para>
                        </listitem>
                        <listitem>
                            <para> Generalized affinity id. </para>
                        </listitem>
                    </itemizedlist>
                </revdescription>
            </revision>
            <revision>
                <date>2011-02-09</date>
                <revdescription>
                    <itemizedlist spacing="compact">
                        <listitem>
                            <para> Initial release. </para>
                        </listitem>
                    </itemizedlist>
                </revdescription>
            </revision>
        </revhistory>


    </info>
    <xi:include href="ch_preface.xml"/>
    <xi:include href="ch_general_api_information.xml"/>
    <xi:include href="ch_api_operations.xml"/>
    
    <chapter xml:id="Concepts-d1e369">
        <?dbhtml stop-chunking?>
        <title>Concepts</title>
        <para> To use the OpenStack Compute API effectively, you
            should understand several key concepts: </para>
        <section xml:id="Server-d1e379">
            <title>Server</title>
            <para> A server is a virtual machine instance in the
                compute system. Flavor and image are requisite
                elements when creating a server. </para>
        </section>
        <section xml:id="Flavor-d1e388">
            <title>Flavor</title>
            <para> A flavor is an available hardware configuration for
                a server. Each flavor has a unique combination of disk
                space, memory capacity and priority for CPU time.
            </para>
        </section>
        <section xml:id="Image-d1e398">
            <title>Image</title>
            <para> An image is a collection of files used to create or
                rebuild a server. Operators provide a number of
                pre-built OS images by default. You may also create
                custom images from cloud servers you have launched.
                These custom images are useful for backup purposes or
                for producing “gold” server images if you plan to
                deploy a particular server configuration frequently.
            </para>
        </section>
        <section xml:id="Reboot-d1e407">
            <title>Reboot</title>
            <para> The reboot function allows for either a soft or
                hard reboot of a server. With a soft reboot, the
                operating system is signaled to restart, which allows
                for a graceful shutdown of all processes. A hard
                reboot is the equivalent of power cycling the server.
            </para>
        </section>
        <section xml:id="Rebuild-d1e416">
            <title>Rebuild</title>
            <para> The rebuild function removes all data on the server
                and replaces it with the specified image. Server ID
                and IP addresses remain the same. </para>
        </section>
        <section xml:id="Resize-d1e425">
            <title>Resize</title>
            <para> The resize function converts an existing server to
                a different flavor, in essence, scaling the server up
                or down. The original server is saved for a period of
                time to allow rollback if there is a problem. All
                resizes should be tested and explicitly confirmed, at
                which time the original server is removed. All resizes
                are automatically confirmed after 24 hours if they are
                not confirmed or reverted. </para>
        </section>
    </chapter>
    
    
</book>
