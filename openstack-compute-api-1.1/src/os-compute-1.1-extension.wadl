<?xml version="1.0" encoding="UTF-8"?>

<!-- (C) 2011 OpenStack LLC., All Rights Reserved -->

<!--*******************************************************-->
<!--         Import Common XML Entities                    -->
<!--                                                       -->
<!--     You can resolve the entites with xmllint          -->
<!--                                                       -->
<!--        xmllint -noent os-compute-1.1.wadl             -->
<!--*******************************************************-->
<!DOCTYPE application [<!ENTITY % common  SYSTEM "common.ent">
%common;]>

<application xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
   xmlns:xsd="http://www.w3.org/2001/XMLSchema"
   xmlns="http://wadl.dev.java.net/2009/02"
   xmlns:osapi="http://docs.openstack.org/compute/api/v1.1"
   xmlns:common="http://docs.openstack.org/common/api/v1.0"
   xmlns:atom="http://www.w3.org/2005/Atom"
   xsi:schemaLocation="http://docs.openstack.org/compute/api/v1.1
                       xsd/api.xsd
                       http://docs.openstack.org/common/api/v1.0
                       xsd/api-common.xsd
                       ">

    <grammars>
        <include href="xsd/api.xsd" />
        <include href="xsd/api-common.xsd" />
    </grammars>

    <!--*******************************************************-->
    <!--             All Resoruces                             -->
    <!--*******************************************************-->

    <resources base="https://servers.api.openstack.com">
        <resource id="version" path="v1.1/">
            <resource id="tenantID" path="{tenantId}">
                <param name="tenantId" style="template" type="xsd:string"/>
                <resource id="OsCreateServerExt" path="os-create-server-ext">
                    <resource path="detail" type="#DetailServerList"/>
                </resource>
                <resource id="Flavors" path="flavors">
                    <resource path="{flavorId}">
                        <param name="flavorId" style="template" type="osapi:UUID"/>
                        <resource id="FlavorsExt" type="FlavorsExtList" path="os-extra_specs">
                            <resource path="detail" type="#DetailFlavorsExtList"/>
                            <method href="#createFlavorExt" />
                            <resource path="{extId}">
                                <param name="extId" style="template" type="osapi:UUID"/>
                                <method href="#getFlavorExt"/>
                                <method href="#updateFlavorExt"/>
                                <method href="#deleteFlavorExt"/>
                            </resource>
                        </resource>
                    </resource>
                </resource>
                <resource id="FloatingIps" type="FloatingIpList" path="os-floating-ips">
                    <resource path="detail" type="#DetailFloatingIpList"/>
                    <method href="#createFloatingIp" />
                    <resource path="{floatingIp}">
                        <param name="floatingIp" style="template" type="xsd:string"/>
                        <method href="#getFloatingIp"/>
                        <method href="#deleteFloatingIp"/>
                    </resource>
                </resource>
                <resource id="Servers" path="servers">
                        <resource path="{serverId}">
                            <resource path="action">
                                <method href="#addFloatingIp"/>
                                <method href="#removeFloatingIp"/>
                            </resource>
                        </resource>
                </resource>
            </resource>
        </resource>
    </resources>

    <!--*******************************************************-->
    <!--               Resource Types                          -->
    <!--*******************************************************-->
    <resource_type id="DetailServerList">
        <doc xml:lang="EN" title="Detail Server List">
            <p xmlns="http://www.w3.org/1999/xhtml">
                A detailed server list including security groups.
            </p>
        </doc>
        <method href="#listDetailServers"/>
    </resource_type>
    
    <resource_type id="FlavorsExtList">
        <doc xml:lang="EN" title="Detail Image List">
            <p xmlns="http://www.w3.org/1999/xhtml">
                A flavors extension list.
            </p>
        </doc>
        <method href="#listFlavorsExt"/>
    </resource_type>
  
    <resource_type id="DetailFlavorsExtList">
        <doc xml:lang="EN" title="Detail Image List">
            <p xmlns="http://www.w3.org/1999/xhtml">
                A flavors extension list.
            </p>
        </doc>
        <method href="#listDetailFlavorsExt"/>
    </resource_type>

    <resource_type id="FloatingIpList">
        <doc xml:lang="EN" title="List Floating Ip">
            <p xmlns="http://www.w3.org/1999/xhtml">
                A list floating IPs
            </p>
        </doc>
        <method href="#listFloatingIp"/>
    </resource_type>    
 
 
    <resource_type id="DetailFloatingIpList">
        <doc xml:lang="EN" title="Detail Floating Ip">
            <p xmlns="http://www.w3.org/1999/xhtml">
                A detailed server list.
            </p>
        </doc>
        <method href="#listDetailFloatingIp"/>
    </resource_type> 
    
    <!--*******************************************************-->
    <!--               All Methods                             -->
    <!--*******************************************************-->
    <!-- os-create-server-ext -->
    <method name="GET" id="listDetailServers">
        <doc xml:lang="EN" title="List Detail Servers">
            <p xmlns="http://www.w3.org/1999/xhtml">
                List all servers (all details) including detail of security groups
            </p>
        </doc>
        <request>
            &serverListParameters;
        </request>
        <response status="200 203">
            <representation mediaType="application/xml" element="osapi:servers">
                <param name="next" style="plain" type="xsd:anyURI"
                    path="/osapi:servers/atom:link[@rel='next']/@href">
                    <link resource_type="#DetailServerList" rel="next"/>
                </param>
                <param name="previous" style="plain" type="xsd:anyURI"
                    path="/osapi:servers/atom:link[@rel='previous']/@href">
                    <link resource_type="#DetailServerList" rel="previous"/>
                </param>
            </representation>
            <representation mediaType="application/json" />
        </response>
        <!-- Common Faults -->
        &commonFaults;
    </method>
    
    <!-- os-extra_specs -->
    <!-- TODO add description of parameters-->
    <method name="POST" id="createFlavorExt">
        <doc xml:lang="EN" title="Create Flavor Extension">
            <p xmlns="http://www.w3.org/1999/xhtml">
                Creates a new flavor extension.
                {'extra_specs':{'key1':'value1','key2':'value2'}}
            </p>
        </doc>
        <request>
            <representation mediaType="application/xml"/>
            <representation mediaType="application/json" />
        </request>
        <response status="202"/>        
        <!-- All other common faults except build in progess -->
        &commonFaults;
        &getFaults;
        &postPutFaults;
        &buildFaults;
    </method>
    
    <method name="GET" id="listFlavorsExt">
        <doc xml:lang="EN" title="List FlavorExt">
            <p xmlns="http://www.w3.org/1999/xhtml">
                List flavor extension
            </p>
        </doc>
        <response status="200 203"><!-- TODO(nati): detailed representation is needed -->
            <representation mediaType="application/xml" />
            <representation mediaType="application/json" />
        </response>
        <!-- Common Faults -->
        &commonFaults;
    </method>

    <method name="GET" id="listDetailFlavorsExt">
        <doc xml:lang="EN" title="List Detailed FloatingIp">
            <p xmlns="http://www.w3.org/1999/xhtml">
                List detailed flavor extension
            </p>
        </doc>
        <response status="200 203">
            <representation mediaType="application/xml" />
            <representation mediaType="application/json" />
        </response>
        <!-- Common Faults -->
        &commonFaults;
    </method>

    <method name="GET" id="getFlavorExt">
        <doc xml:lang="EN" title="Get FlavorExt">
            <p xmlns="http://www.w3.org/1999/xhtml">
                Get flavor extension
            </p>
        </doc>
        <response status="200 203">
            <representation mediaType="application/xml" />
            <representation mediaType="application/json" />
        </response>
        <!-- Common and GET Faults-->
        &commonFaults;
        &getFaults;
    </method>
    
    <method name="DELETE" id="deleteFlavorExt">
        <doc xml:lang="EN" title="Delete FlavorExt">
            <p xmlns="http://www.w3.org/1999/xhtml">
                Delete a flovor extension
            </p>
        </doc>
        <response status="204"/>
        <!-- Common and GET Faults -->
        &commonFaults;
        &getFaults;
    </method>
    
    <method name="GET" id="detailListFlavorExt">
        <doc xml:lang="EN" title="List Detail FlavorExt">
            <p xmlns="http://www.w3.org/1999/xhtml">
                List all flavor extension.
            </p>
        </doc>
        <request>
            &serverListParameters;
        </request>
        <response status="200 203">
            <representation mediaType="application/xml"/>
            <representation mediaType="application/json" />
        </response>
        <!-- Common Faults -->
        &commonFaults;
    </method>
    
    <method name="PUT" id="updateFlavorExt">
        <doc xml:lang="EN" title="Update a FlavorExt">
            <p xmlns="http://www.w3.org/1999/xhtml">
                Update a flavlor extension
            </p>
        </doc>
        <request>
            <representation mediaType="application/xml"/>
            <representation mediaType="application/json" />
        </request>
        <response status="200">
            <representation mediaType="application/xml"/>
            <representation mediaType="application/json" />
        </response>
        <!-- Common, GET, POST/PUT, inProgress Faults-->
        &commonFaults;
        &getFaults;
        &postPutFaults;
        &inProgressFault;
    </method>

    <!-- Floating IP -->
    <method name="POST" id="createFloatingIp">
        <doc xml:lang="EN" title="Create FlavorExt">
            <p xmlns="http://www.w3.org/1999/xhtml">
                Allocate floating Ip
            </p>
        </doc>
        <request>
            <representation mediaType="application/xml"/>
            <representation mediaType="application/json" />
        </request>
        <response status="202"/>        
        <!-- All other common faults except build in progess -->
        &commonFaults;
        &getFaults;
        &postPutFaults;
        &buildFaults;
    </method>

    <method name="GET" id="listFloatingIp">
        <doc xml:lang="EN" title="List FloatingIp">
            <p xmlns="http://www.w3.org/1999/xhtml">
                List floating Ips
            </p>
        </doc>
        <response status="200 203">
            <representation mediaType="application/xml" />
            <representation mediaType="application/json" />
        </response>
        <!-- Common Faults -->
        &commonFaults;
    </method>
    
    <method name="GET" id="listDetailFloatingIp">
        <doc xml:lang="EN" title="List Detailed FloatingIp">
            <p xmlns="http://www.w3.org/1999/xhtml">
                List detailed floating Ips
            </p>
        </doc>
        <response status="200 203">
            <representation mediaType="application/xml" />
            <representation mediaType="application/json" />
        </response>
        <!-- Common Faults -->
        &commonFaults;
    </method>

    <method name="GET" id="getFloatingIp">
        <doc xml:lang="EN" title="Get Floating Ip">
            <p xmlns="http://www.w3.org/1999/xhtml">
                Get floating Ip
            </p>
        </doc>
        <response status="200 203">
            <representation mediaType="application/xml" />
            <representation mediaType="application/json" />
        </response>
        <!-- Common and GET Faults-->
        &commonFaults;
        &getFaults;
    </method>

    <method name="DELETE" id="deleteFloatingIp">
        <doc xml:lang="EN" title="Delete Floating Ip">
            <p xmlns="http://www.w3.org/1999/xhtml">
                Disaccosiate floating IP
            </p>
        </doc>
        <response status="204"/>
        <!-- Common and GET Faults -->
        &commonFaults;
        &getFaults;
    </method>

    <!-- Server Actions -->
    <method name="POST" id="addFloatingIp">
        <doc xml:lang="EN" title="Associate Floating Ip">
            <p xmlns="http://www.w3.org/1999/xhtml">
                Change a server's password.
            </p>
        </doc>
        <request>
            <representation mediaType="application/xml" element="osapi:addFloatingIp"/>
            <representation mediaType="application/json" />
        </request>
        <response status="202"/>
        <!-- Common, GET, postput, inProgress Faults-->
        &commonFaults;
        &getFaults;
        &postPutFaults;
        &inProgressFault;
    </method>

    <method name="POST" id="removeFloatingIp">
        <doc xml:lang="EN" title="Disaccosiate Floating Ip">
            <p xmlns="http://www.w3.org/1999/xhtml">
                Change a server's password.
            </p>
        </doc>
        <request>
            <representation mediaType="application/xml" element="osapi:removeFloatingIp"/>
            <representation mediaType="application/json" />
        </request>
        <response status="202"/>
        <!-- Common, GET, postput, inProgress Faults-->
        &commonFaults;
        &getFaults;
        &postPutFaults;
        &inProgressFault;
    </method>

<<<<<<< HEAD
=======
    <method name="POST" id="addFixedIp">
        <doc xml:lang="EN" title="Adds an IP on a given network to an instance.">
            <p xmlns="http://www.w3.org/1999/xhtml">
                Adds an IP on a given network to an instance.
            </p>
        </doc>
        <request>
            <representation mediaType="application/xml" element="osapi:addFixedIp"/>
            <representation mediaType="application/json" />
        </request>
        <response status="202"/>
        <!-- Common, GET, postput, inProgress Faults-->
        &commonFaults;
        &getFaults;
        &postPutFaults;
        &inProgressFault;
    </method>

    <method name="POST" id="removeFixedIp">
        <doc xml:lang="EN" title="Removes an IP from an instance.">
            <p xmlns="http://www.w3.org/1999/xhtml">
                Removes an IP from an instance.
            </p>
        </doc>
        <request>
            <representation mediaType="application/xml" element="osapi:removeFixedIp"/>
            <representation mediaType="application/json" />
        </request>
        <response status="202"/>
        <!-- Common, GET, postput, inProgress Faults-->
        &commonFaults;
        &getFaults;
        &postPutFaults;
        &inProgressFault;
    </method>

    <method name="POST" id="rescue">
        <doc xml:lang="EN" title="Rescue an instance.">
            <p xmlns="http://www.w3.org/1999/xhtml">
                Rescue an instance.
            </p>
        </doc>
        <response status="202"/>
        <!-- Common, GET, postput, inProgress Faults-->
        &commonFaults;
        &getFaults;
        &postPutFaults;
        &inProgressFault;
    </method>

    <method name="POST" id="unrescue">
        <doc xml:lang="EN" title="Unrescue an instance.">
            <p xmlns="http://www.w3.org/1999/xhtml">
                Unrescue an instance.
            </p>
        </doc>
        <response status="202"/>
        <!-- Common, GET, postput, inProgress Faults-->
        &commonFaults;
        &getFaults;
        &postPutFaults;
        &inProgressFault;
    </method>

    <!-- Hosts -->
    <method name="GET" id="listHosts">
        <doc xml:lang="EN" title="List Hosts">
            <p xmlns="http://www.w3.org/1999/xhtml">
                List Hosts
            </p>
        </doc>
        <response status="200 203">
            <representation mediaType="application/xml" />
            <representation mediaType="application/json" />
        </response>
        <!-- Common Faults -->
        &commonFaults;
    </method>

    <method name="PUT" id="updateHosts">
        <doc xml:lang="EN" title="Update Hosts">
            <p xmlns="http://www.w3.org/1999/xhtml">
                Update hosts
                {'status':'enable'} or {'status':'disable'}
            </p>
        </doc>
        <response status="200 203">
            <representation mediaType="application/xml" />
            <representation mediaType="application/json" />
        </response>
        <!-- Common Faults -->
        &commonFaults;
    </method>

    <method name="GET" id="startupHosts">
        <doc xml:lang="EN" title="Startup Hosts">
            <p xmlns="http://www.w3.org/1999/xhtml">
                Startup hosts
            </p>
        </doc>
        <response status="200 203">
            <representation mediaType="application/xml" />
            <representation mediaType="application/json" />
        </response>
        <!-- Common Faults -->
        &commonFaults;
    </method>
    
    <method name="GET" id="shutdownHosts">
        <doc xml:lang="EN" title="Shutdown Hosts">
            <p xmlns="http://www.w3.org/1999/xhtml">
                Shutdown hosts
            </p>
        </doc>
        <response status="200 203">
            <representation mediaType="application/xml" />
            <representation mediaType="application/json" />
        </response>
        <!-- Common Faults -->
        &commonFaults;
    </method>

    <method name="GET" id="rebootHosts">
        <doc xml:lang="EN" title="Reboot Hosts">
            <p xmlns="http://www.w3.org/1999/xhtml">
                Reboot hosts
            </p>
        </doc>
        <response status="200 203">
            <representation mediaType="application/xml" />
            <representation mediaType="application/json" />
        </response>
        <!-- Common Faults -->
        &commonFaults;
    </method>
    <!-- keypares -->
    <method name="GET" id="listKeyPairs">
        <doc xml:lang="EN" title="List KeyPairs">
            <p xmlns="http://www.w3.org/1999/xhtml">
                List listKeyPairs
            </p>
        </doc>
        <response status="200 203">
            <representation mediaType="application/xml" />
            <representation mediaType="application/json" />
        </response>
        <!-- Common Faults -->
        &commonFaults;
    </method>

    <method name="PUT" id="createKeyPair">
        <doc xml:lang="EN" title="Create Keypair">
            <p xmlns="http://www.w3.org/1999/xhtml">
                Create Key pair
            </p>
        </doc>
        <request>
            <representation mediaType="application/xml" element="osapi:keypair"/>
            <representation mediaType="application/json" />
        </request>
        <response status="202"/>        
        <!-- All other common faults except build in progess -->
        &commonFaults;
        &getFaults;
        &postPutFaults;
        &buildFaults;
    </method>

    <method name="DELETE" id="deleteKeyPair">
        <doc xml:lang="EN" title="Delete Keypair">
            <p xmlns="http://www.w3.org/1999/xhtml">
                Delete Key pair
            </p>
        </doc>
        <request>
            <representation mediaType="application/xml" />
            <representation mediaType="application/json" />
        </request>
        <response status="202"/>        
        <!-- All other common faults except build in progess -->
        &commonFaults;
        &getFaults;
        &postPutFaults;
        &buildFaults;
    </method>

    <!-- quota -->
    <method name="GET" id="quotaDefault">
        <doc xml:lang="EN" title="Default quota">
            <p xmlns="http://www.w3.org/1999/xhtml">
                Get default quota for project Id
            </p>
        </doc>
        <response status="200 203">
            <representation mediaType="application/xml" />
            <representation mediaType="application/json" />
        </response>
        <!-- Common Faults -->
        &commonFaults;
    </method>
    
    <method name="GET" id="getQuota">
        <doc xml:lang="EN" title="Get quota">
            <p xmlns="http://www.w3.org/1999/xhtml">
                Get quota for project Id
            </p>
        </doc>
        <response status="200 203">
            <representation mediaType="application/xml" />
            <representation mediaType="application/json" />
        </response>
        <!-- Common Faults -->
        &commonFaults;
    </method>
 
    <method name="PUT" id="updateQuota">
        <doc xml:lang="EN" title="Update quota">
            <p xmlns="http://www.w3.org/1999/xhtml">
                Update quota for project Id
            </p>
        </doc>
        <request>
            <representation mediaType="application/xml" element="osapi:quota_set"/>
            <representation mediaType="application/json" />
        </request>
        <response status="200 203">
            <representation mediaType="application/xml" />
            <representation mediaType="application/json" />
        </response>
        <!-- Common Faults -->
        &commonFaults;
    </method>
    
    <!-- security group -->
    <method name="GET" id="listSecurityGroup">
        <doc xml:lang="EN" title="List security group">
            <p xmlns="http://www.w3.org/1999/xhtml">
                List security group
            </p>
        </doc>
        <response status="200 203">
            <representation mediaType="application/xml" />
            <representation mediaType="application/json" />
        </response>
        <!-- Common Faults -->
        &commonFaults;
    </method>   
    
    <method name="POST" id="createSecurityGroup">
        <doc xml:lang="EN" title="Create SecurityGroup">
            <p xmlns="http://www.w3.org/1999/xhtml">
                Create a security group
            </p>
        </doc>
        <request>
            <representation mediaType="application/xml" element="osapi:security_group"/>
            <representation mediaType="application/json" />
        </request>
        <response status="202"/>        
        <!-- All other common faults except build in progess -->
        &commonFaults;
        &getFaults;
        &postPutFaults;
        &buildFaults;
    </method>

    <method name="GET" id="getSecurityGroup">
        <doc xml:lang="EN" title="Get security group">
            <p xmlns="http://www.w3.org/1999/xhtml">
                Get security group
            </p>
        </doc>
        <response status="200 203">
            <representation mediaType="application/xml" />
            <representation mediaType="application/json" />
        </response>
        <!-- Common Faults -->
        &commonFaults;
    </method>  
    
    <method name="DELETE" id="deleteSecurityGroup">
        <doc xml:lang="EN" title="Delete a security group">
            <p xmlns="http://www.w3.org/1999/xhtml">
                Delete a security group
            </p>
        </doc>
        <response status="200 203">
            <representation mediaType="application/xml" />
            <representation mediaType="application/json" />
        </response>
        <!-- Common Faults -->
        &commonFaults;
    </method>

    <method name="POST" id="createSecurityGroupRule">
        <doc xml:lang="EN" title="Create SecurityGroup Rule">
            <p xmlns="http://www.w3.org/1999/xhtml">
                Create a security group rule
            </p>
        </doc>
        <request>
            <representation mediaType="application/xml" element="osapi:security_group_rule"/>
            <representation mediaType="application/json" />
        </request>
        <response status="202"/>        
        <!-- All other common faults except build in progess -->
        &commonFaults;
        &getFaults;
        &postPutFaults;
        &buildFaults;
    </method>

    <method name="DELETE" id="deleteSecurityGroupRule">
        <doc xml:lang="EN" title="Delete a security group rule">
            <p xmlns="http://www.w3.org/1999/xhtml">
                Delete a security group rule
            </p>
        </doc>
        <response status="200 203">
            <representation mediaType="application/xml" />
            <representation mediaType="application/json" />
        </response>
        <!-- Common Faults -->
        &commonFaults;
    </method>  
    
    <!-- simple tenant usage-->
    <method name="GET" id="listSimpleTenantUsage">
        <doc xml:lang="EN" title="List simple tenant usage">
            <p xmlns="http://www.w3.org/1999/xhtml">
                List simple tenant usage
            </p>
        </doc>
        <response status="200 203">
            <representation mediaType="application/xml" />
            <representation mediaType="application/json" />
        </response>
        <!-- Common Faults -->
        &commonFaults;
    </method>
    
    <method name="GET" id="getSimpleTenantUsage">
        <doc xml:lang="EN" title="get simple tenant usage">
            <p xmlns="http://www.w3.org/1999/xhtml">
                Get a simple tenant usage
            </p>
        </doc>
        <response status="200 203">
            <representation mediaType="application/xml" />
            <representation mediaType="application/json" />
        </response>
        <!-- Common Faults -->
        &commonFaults;
    </method>
    
    <!--  server virtual interface -->
    <method name="GET" id="listServerVirtualInterface">
        <doc xml:lang="EN" title="A list of server virtual interface">
            <p xmlns="http://www.w3.org/1999/xhtml">
                A list of server virtual interface
            </p>
        </doc>
        <response status="200 203">
            <representation mediaType="application/xml" />
            <representation mediaType="application/json" />
        </response>
        <!-- Common Faults -->
        &commonFaults;
    </method>    
    
    <!--  vsa  -->
    <method name="GET" id="listVsa">
        <doc xml:lang="EN" title="A list of vsa">
            <p xmlns="http://www.w3.org/1999/xhtml">
                A list of vsa
            </p>
        </doc>
        <response status="200 203">
            <representation mediaType="application/xml" />
            <representation mediaType="application/json" />
        </response>
        <!-- Common Faults -->
        &commonFaults;
    </method> 

    <method name="GET" id="listDetailVsa">
        <doc xml:lang="EN" title="A list of vsa">
            <p xmlns="http://www.w3.org/1999/xhtml">
                A list of vsa
            </p>
        </doc>
        <response status="200 203">
            <representation mediaType="application/xml" />
            <representation mediaType="application/json" />
        </response>
        <!-- Common Faults -->
        &commonFaults;
    </method> 

    <method name="GET" id="getVsa">
        <doc xml:lang="EN" title="Get a vsa">
            <p xmlns="http://www.w3.org/1999/xhtml">
                Get a vsa
            </p>
        </doc>
        <response status="200 203">
            <representation mediaType="application/xml" />
            <representation mediaType="application/json" />
        </response>
        <!-- Common Faults -->
        &commonFaults;
    </method> 
 
    <method name="DELETE" id="deleteVsa">
        <doc xml:lang="EN" title="Delete a vsa">
            <p xmlns="http://www.w3.org/1999/xhtml">
                Delete a vsa
            </p>
        </doc>
        <response status="200 203">
            <representation mediaType="application/xml" />
            <representation mediaType="application/json" />
        </response>
        <!-- Common Faults -->
        &commonFaults;
    </method> 
    
    <method name="POST" id="associateAddress">
        <doc xml:lang="EN" title="associate address of vsa">
            <p xmlns="http://www.w3.org/1999/xhtml">
                Associate address of vsa
            </p>
        </doc>
        <response status="200 203">
            <representation mediaType="application/xml" element="osapi:ipAddress" />
            <representation mediaType="application/json" />
        </response>
        <!-- Common Faults -->
        &commonFaults;
    </method>  
    
    <method name="POST" id="disassociateAddress">
        <doc xml:lang="EN" title="disassociate address of vsa">
            <p xmlns="http://www.w3.org/1999/xhtml">
                Disassociate address of vsa
            </p>
        </doc>
        <response status="200 203">
            <representation mediaType="application/xml" element="osapi:ipAddress" />
            <representation mediaType="application/json" />
        </response>
        <!-- Common Faults -->
        &commonFaults;
    </method>

    <method name="POST" id="createVsa">
        <doc xml:lang="EN" title="Create Vsa">
            <p xmlns="http://www.w3.org/1999/xhtml">
                Create a Vsa
            </p>
        </doc>
        <request>
            <representation mediaType="application/xml" element="osapi:vsa"/>
            <representation mediaType="application/json" />
        </request>
        <response status="202"/>        
        <!-- All other common faults except build in progess -->
        &commonFaults;
        &getFaults;
        &postPutFaults;
        &buildFaults;
    </method>

    <method name="POST" id="createVsaVolume">
        <doc xml:lang="EN" title="Create a Vsa volume">
            <p xmlns="http://www.w3.org/1999/xhtml">
                Create a Vsa volume
            </p>
        </doc>
        <request>
            <representation mediaType="application/xml"/><!--TODO add params-->
            <representation mediaType="application/json" />
        </request>
        <response status="202"/>        
        <!-- All other common faults except build in progess -->
        &commonFaults;
        &getFaults;
        &postPutFaults;
        &buildFaults;
    </method>

    <method name="GET" id="getVsaVolume">
        <doc xml:lang="EN" title="Get a vsa volume">
            <p xmlns="http://www.w3.org/1999/xhtml">
                Get a vsa volume
            </p>
        </doc>
        <response status="200 203">
            <representation mediaType="application/xml" />
            <representation mediaType="application/json" />
        </response>
        <!-- Common Faults -->
        &commonFaults;
    </method> 

    <method name="GET" id="listDetailVsaVolume">
        <doc xml:lang="EN" title="Detailed list of a vsa volumes">
            <p xmlns="http://www.w3.org/1999/xhtml">
                Detailed list of a vsa volumes
            </p>
        </doc>
        <response status="200 203">
            <representation mediaType="application/xml" />
            <representation mediaType="application/json" />
        </response>
        <!-- Common Faults -->
        &commonFaults;
    </method>

    <method name="PUT" id="updateVsaVolume">
        <doc xml:lang="EN" title="update a Vsa Volume">
            <p xmlns="http://www.w3.org/1999/xhtml">
                Update a Vsa volume
            </p>
        </doc>
        <request>
            <representation mediaType="application/xml"/><!--TODO add params-->
            <representation mediaType="application/json" />
        </request>
        <response status="202"/>        
        <!-- All other common faults except build in progess -->
        &commonFaults;
        &getFaults;
        &postPutFaults;
        &buildFaults;
    </method>

    <method name="DELETE" id="deleteVsaVolume">
        <doc xml:lang="EN" title="Delete a vsa volume">
            <p xmlns="http://www.w3.org/1999/xhtml">
                Delete a vsa volume
            </p>
        </doc>
        <response status="200 203">
            <representation mediaType="application/xml" />
            <representation mediaType="application/json" />
        </response>
        <!-- Common Faults -->
        &commonFaults;
    </method> 

    <method name="GET" id="listVsaInstance">
        <doc xml:lang="EN" title="list of a vsa instance">
            <p xmlns="http://www.w3.org/1999/xhtml">
                List vsa instance
            </p>
        </doc>
        <response status="200 203">
            <representation mediaType="application/xml" />
            <representation mediaType="application/json" />
        </response>
        <!-- Common Faults -->
        &commonFaults;
    </method>
    
    <!-- volumes -->
    <method name="GET" id="listVolume">
        <doc xml:lang="EN" title="list of volumes">
            <p xmlns="http://www.w3.org/1999/xhtml">
                List of volumes
            </p>
        </doc>
        <response status="200 203">
            <representation mediaType="application/xml" />
            <representation mediaType="application/json" />
        </response>
        <!-- Common Faults -->
        &commonFaults;
    </method>   

    <method name="GET" id="listDetailVolume">
        <doc xml:lang="EN" title="list of detailed volumes">
            <p xmlns="http://www.w3.org/1999/xhtml">
                List of detailed volumes
            </p>
        </doc>
        <response status="200 203">
            <representation mediaType="application/xml" />
            <representation mediaType="application/json" />
        </response>
        <!-- Common Faults -->
        &commonFaults;
    </method> 

    <method name="POST" id="createVolume">
        <doc xml:lang="EN" title="Create a volume">
            <p xmlns="http://www.w3.org/1999/xhtml">
                Create a Volume
            </p>
        </doc>
        <request>
            <representation mediaType="application/xml" element="osapi:volume"/>
            <representation mediaType="application/json" />
        </request>
        <response status="202"/>        
        <!-- All other common faults except build in progess -->
        &commonFaults;
        &getFaults;
        &postPutFaults;
        &buildFaults;
    </method>

    <method name="GET" id="getVolume">
        <doc xml:lang="EN" title="Get a volume">
            <p xmlns="http://www.w3.org/1999/xhtml">
                Get a volume
            </p>
        </doc>
        <response status="200 203">
            <representation mediaType="application/xml" />
            <representation mediaType="application/json" />
        </response>
        <!-- Common Faults -->
        &commonFaults;
    </method> 
    
    <method name="DELETE" id="deleteVolume">
        <doc xml:lang="EN" title="Delete a volume">
            <p xmlns="http://www.w3.org/1999/xhtml">
                Delete a volume
            </p>
        </doc>
        <response status="200 203">
            <representation mediaType="application/xml" />
            <representation mediaType="application/json" />
        </response>
        <!-- Common Faults -->
        &commonFaults;
    </method>
    
    <!-- volume attachment -->
    <method name="GET" id="listVolumeAttachment">
        <doc xml:lang="EN" title="list of volumes">
            <p xmlns="http://www.w3.org/1999/xhtml">
                List of volume attachment
            </p>
        </doc>
        <response status="200 203">
            <representation mediaType="application/xml" />
            <representation mediaType="application/json" />
        </response>
        <!-- Common Faults -->
        &commonFaults;
    </method>   
    
    <method name="GET" id="listDetailVolumeAttachment">
        <doc xml:lang="EN" title="list of detailed volumes">
            <p xmlns="http://www.w3.org/1999/xhtml">
                List of detailed volume attachment
            </p>
        </doc>
        <response status="200 203">
            <representation mediaType="application/xml" />
            <representation mediaType="application/json" />
        </response>
        <!-- Common Faults -->
        &commonFaults;
    </method>

    <method name="POST" id="createVolumeAttachment">
        <doc xml:lang="EN" title="Create a volume">
            <p xmlns="http://www.w3.org/1999/xhtml">
                Create a Volume attachment
            </p>
        </doc>
        <request>
            <representation mediaType="application/xml" element="osapi:volumeAttachment"/>
            <representation mediaType="application/json" />
        </request>
        <response status="202"/>        
        <!-- All other common faults except build in progess -->
        &commonFaults;
        &getFaults;
        &postPutFaults;
        &buildFaults;
    </method>
    
    <method name="GET" id="getVolumeAttachment">
        <doc xml:lang="EN" title="Get a volume attachment">
            <p xmlns="http://www.w3.org/1999/xhtml">
                Get a volume attachment
            </p>
        </doc>
        <response status="200 203">
            <representation mediaType="application/xml" />
            <representation mediaType="application/json" />
        </response>
        <!-- Common Faults -->
        &commonFaults;
    </method> 
    
    <method name="DELETE" id="deleteVolumeAttachment">
        <doc xml:lang="EN" title="Delete a volume attachment">
            <p xmlns="http://www.w3.org/1999/xhtml">
                Delete a volume attachment
            </p>
        </doc>
        <response status="200 203">
            <representation mediaType="application/xml" />
            <representation mediaType="application/json" />
        </response>
        <!-- Common Faults -->
        &commonFaults;
    </method>
    
    <method name="POST" id="bootFromVolume">
        <doc xml:lang="EN" title="Boot from volume">
            <p xmlns="http://www.w3.org/1999/xhtml">
                Creates a new server form volume.
            </p>
        </doc>
        <request>
            <representation mediaType="application/xml" element="osapi:server">
                <param name="server" style="plain" required="true"
                    type="osapi:BootFromVolume"
                    path="/osapi:server"/>
            </representation>
            <representation mediaType="application/json" />
        </request>
        <response status="202">
            <param name="Location" style="header"
                required="true" type="xsd:anyURI"/>
            <representation mediaType="application/xml" element="osapi:server"/>
            <representation mediaType="application/json" />
        </response>
        <!-- All other common faults except build in progess -->
        &commonFaults;
        &getFaults;
        &postPutFaults;
        &buildFaults;
    </method>
    
    <!-- volume types -->
    
    <method name="POST" id="createVolumeType">
        <doc xml:lang="EN" title="Create a volume type">
            <p xmlns="http://www.w3.org/1999/xhtml">
                Create volume types
            </p>
        </doc>
        <request>
            <representation mediaType="application/xml" element="osapi:volume_type"/>
            <representation mediaType="application/json" />
        </request>
        <response status="202"/>        
        <!-- All other common faults except build in progess -->
        &commonFaults;
        &getFaults;
        &postPutFaults;
        &buildFaults;
    </method>

    <method name="GET" id="listOSVolumeType">
        <doc xml:lang="EN" title="List volume types">
            <p xmlns="http://www.w3.org/1999/xhtml">
                List volume types
            </p>
        </doc>
        <response status="200 203">
            <representation mediaType="application/xml" />
            <representation mediaType="application/json" />
        </response>
        <!-- Common Faults -->
        &commonFaults;
    </method>

    <method name="GET" id="getVolumeType">
        <doc xml:lang="EN" title="Get a volume type">
            <p xmlns="http://www.w3.org/1999/xhtml">
                Get a volume type
            </p>
        </doc>
        <response status="200 203">
            <representation mediaType="application/xml" />
            <representation mediaType="application/json" />
        </response>
        <!-- Common Faults -->
        &commonFaults;
    </method> 
    
    <method name="DELETE" id="deleteVolumeType">
        <doc xml:lang="EN" title="Delete a volume type">
            <p xmlns="http://www.w3.org/1999/xhtml">
                Delete a volume type
            </p>
        </doc>
        <response status="200 203">
            <representation mediaType="application/xml" />
            <representation mediaType="application/json" />
        </response>
        <!-- Common Faults -->
        &commonFaults;
    </method>

    <!-- extra specs-->
    <method name="POST" id="createVolumeExtraSpecs">
        <doc xml:lang="EN" title="Create a volume specs">
            <p xmlns="http://www.w3.org/1999/xhtml">
                Create volume types
            </p>
        </doc>
        <request>
            <representation mediaType="application/xml" element="osapi:extra_specs"/>
            <representation mediaType="application/json" />
        </request>
        <response status="202"/>        
        <!-- All other common faults except build in progess -->
        &commonFaults;
        &getFaults;
        &postPutFaults;
        &buildFaults;
    </method>
 
    <method name="PUT" id="updateVolumeExtraSpecs">
        <doc xml:lang="EN" title="Create a volume specs">
            <p xmlns="http://www.w3.org/1999/xhtml">
                Create volume types
            </p>
        </doc>
        <request>
            <representation mediaType="application/xml" element="osapi:extra_specs"/>
            <representation mediaType="application/json" />
        </request>
        <response status="202"/>        
        <!-- All other common faults except build in progess -->
        &commonFaults;
        &getFaults;
        &postPutFaults;
        &buildFaults;
    </method>
 
    <method name="GET" id="listOSVolumeExtraSpecs">
        <doc xml:lang="EN" title="List volume types">
            <p xmlns="http://www.w3.org/1999/xhtml">
                List volume extra specs
            </p>
        </doc>
        <response status="200 203">
            <representation mediaType="application/xml" />
            <representation mediaType="application/json" />
        </response>
        <!-- Common Faults -->
        &commonFaults;
    </method>
    
    <method name="GET" id="getVolumeExtraSpecs">
        <doc xml:lang="EN" title="Get a volume type">
            <p xmlns="http://www.w3.org/1999/xhtml">
                Get a volume extra specs
            </p>
        </doc>
        <response status="200 203">
            <representation mediaType="application/xml" />
            <representation mediaType="application/json" />
        </response>
        <!-- Common Faults -->
        &commonFaults;
    </method> 
    
    <method name="DELETE" id="deleteVolumeExtraSpecs">
        <doc xml:lang="EN" title="Delete a volume type">
            <p xmlns="http://www.w3.org/1999/xhtml">
                Delete a volume extra specs
            </p>
        </doc>
        <response status="200 203">
            <representation mediaType="application/xml" />
            <representation mediaType="application/json" />
        </response>
        <!-- Common Faults -->
        &commonFaults;
    </method>
>>>>>>> 8cdc035... Fixes bug 881621
</application>
